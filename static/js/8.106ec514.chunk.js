(this["webpackJsonp@p2p-wallet-web/web"]=this["webpackJsonp@p2p-wallet-web/web"]||[]).push([[8],{1343:function(e,n,t){"use strict";t.d(n,"B",(function(){return a})),t.d(n,"m",(function(){return s})),t.d(n,"y",(function(){return i})),t.d(n,"g",(function(){return o})),t.d(n,"e",(function(){return l})),t.d(n,"d",(function(){return u})),t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return b})),t.d(n,"n",(function(){return j})),t.d(n,"o",(function(){return O})),t.d(n,"f",(function(){return p})),t.d(n,"p",(function(){return f})),t.d(n,"z",(function(){return m})),t.d(n,"A",(function(){return v})),t.d(n,"x",(function(){return h})),t.d(n,"u",(function(){return x})),t.d(n,"w",(function(){return k})),t.d(n,"t",(function(){return w})),t.d(n,"v",(function(){return g})),t.d(n,"s",(function(){return y})),t.d(n,"k",(function(){return _})),t.d(n,"j",(function(){return C})),t.d(n,"h",(function(){return S})),t.d(n,"i",(function(){return T})),t.d(n,"q",(function(){return W})),t.d(n,"r",(function(){return q})),t.d(n,"l",(function(){return I})),t.d(n,"b",(function(){return z}));var c=t(201),r=t(16),a=Object(c.a)("div")({name:"Wrapper",class:"w1oe2baa"}),s=Object(c.a)("div")({name:"Header",class:"h4f3mu3"}),i=Object(c.a)("div")({name:"Title",class:"t1i912uk"}),o=Object(c.a)("div")({name:"Desc",class:"dgkzfl6"}),l=Object(c.a)("div")({name:"CloseWrapper",class:"c1yz84kj"}),u=Object(c.a)(r.e)({name:"CloseIcon",class:"c1iyn34x"}),d=Object(c.a)("div")({name:"BlockWrapper",class:"bmn2tn4"}),b=Object(c.a)(r.e)({name:"CheckmarkIcon",class:"c177nl2c"}),j=Object(c.a)(r.e)({name:"OtherIcon",class:"o1sha4fn"}),O=Object(c.a)("div")({name:"ProgressWrapper",class:"p1prpn3v"}),p=Object(c.a)("div")({name:"Content",class:"c19lvhhk"}),f=Object(c.a)("div")({name:"SendWrapper",class:"s1wcgvvt"}),m=Object(c.a)("div")({name:"ValueCurrency",class:"v1y267t2"}),v=Object(c.a)("div")({name:"ValueOriginal",class:"v33wg3"}),h=Object(c.a)("div")({name:"SwapWrapper",class:"sd77she"}),x=Object(c.a)("div")({name:"SwapColumn",class:"s19h1co8"}),k=Object(c.a)("div")({name:"SwapInfo",class:"spgqtm3"}),w=Object(c.a)("div")({name:"SwapBlock",class:"spxj4if"}),g=Object(c.a)(r.e)({name:"SwapIcon",class:"s1733ag7"}),y=Object(c.a)("div")({name:"SwapAmount",class:"s1thhukn"}),_=Object(c.a)("div")({name:"FieldsWrapper",class:"frl1rem"}),C=Object(c.a)("div")({name:"FieldWrapper",class:"fiq91qb"}),S=Object(c.a)("div")({name:"FieldTitle",class:"f1i7cxvz"}),T=Object(c.a)("div")({name:"FieldValue",class:"f1g97ed6"}),W=Object(c.a)(r.e)({name:"ShareIcon",class:"s1r727wv"}),q=Object(c.a)("div")({name:"ShareWrapper",class:"s1uopwlq"}),I=Object(c.a)("div")({name:"Footer",class:"fvtky2j"}),z=Object(c.a)(r.c)({name:"ButtonExplorer",class:"b4w9gxk"});t(1349)},1349:function(e,n,t){},1366:function(e,n,t){},1374:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return T}));var c=t(8),r=t(4),a=t(1),s=t.n(a),i=t(2),o=t(201),l=t(23),u=t(27),d=t.n(u),b=t(78),j=t(16),O=t(36),p=t(274),f=t(248),m=t(1343),v=t(49),h=t(122),x=t(0),k=function(e){var n,t=e.params.amount,c=e.transaction,r=Object(l.w)(Object(v.q)(null===c||void 0===c?void 0:c.details.tokenAccount),null===c||void 0===c?void 0:c.details.amount);return Object(x.jsxs)(m.p,{children:[Object(x.jsxs)(m.z,{children:[null!==c&&void 0!==c&&c.details.isReceiver?"+":"-"," ",(null===r||void 0===r||null===(n=r.balance)||void 0===n?void 0:n.formatUnits())||t.formatUnits()]}),Object(x.jsx)(m.A,{children:Object(x.jsx)(h.a,{prefix:null!==c&&void 0!==c&&c.details.isReceiver?"+":"-",value:(null===r||void 0===r?void 0:r.balance)||t})})]})},w=t(52),g=t(103),y=t(79),_=function(e){var n=e.params,t=n.inputTokenName,c=n.outputTokenName,r=n.inputAmount,a=n.minimumOutputAmount,s=Object(w.g)().tokenConfigs;return Object(x.jsxs)(m.x,{children:[Object(x.jsx)(m.u,{children:Object(x.jsxs)(m.w,{children:[Object(x.jsx)(y.a,{symbol:t,size:44}),Object(x.jsxs)(m.s,{children:["- ",Object(g.a)(r,s[t].decimals)," ",t]})]})}),Object(x.jsx)(m.t,{children:Object(x.jsx)(m.v,{name:"swap"})}),Object(x.jsx)(m.u,{children:Object(x.jsxs)(m.w,{children:[Object(x.jsx)(y.a,{symbol:c,size:44}),Object(x.jsxs)(m.s,{children:["+ ",Object(g.a)(a,s[c].decimals)," ",c]})]})})]})},C=Object(o.a)("div")({name:"ProgressLine",class:"p1d4rjaa"}),S="Transaction error",T=function(e){var n,t,a=e.type,o=e.action,u=e.params,v=e.close,h=Object(l.C)().provider,w=Object(i.useState)(5),g=Object(r.a)(w,2),y=g[0],T=g[1],W=Object(i.useState)(!1),q=Object(r.a)(W,2),I=q[0],z=q[1],F=Object(i.useState)(null),A=Object(r.a)(F,2),B=A[0],E=A[1],N=Object(l.y)(B),V=Object(i.useState)(null!==N&&void 0!==N&&null!==(n=N.raw)&&void 0!==n&&null!==(t=n.meta)&&void 0!==t&&t.err?S:""),D=Object(r.a)(V,2),P=D[0],U=D[1],G=Object(l.q)().network;Object(i.useEffect)((function(){var e=5;if(I){var n=setInterval((function(){T(y<=95?e+=7:e=95)}),2500);return function(){clearTimeout(n),T(100)}}}),[I]);var J=function(){var e=Object(c.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,z(!0),e.t0=a,e.next="send"===e.t0?5:"swap"===e.t0?11:16;break;case 5:return e.next=7,o();case 7:return n=e.sent,E(n),Object(f.b)({header:"Sent",text:"- ".concat(u.amount.formatUnits()),symbol:u.amount.token.symbol}),e.abrupt("break",17);case 11:return e.next=13,o();case 13:return t=e.sent,E(t),e.abrupt("break",17);case 16:throw new Error("Wrong type");case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(0),z(!1),"send"===a&&b.b.error(a,e.t1.message);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){J()}),[]),Object(i.useEffect)((function(){var e=function(){var n=Object(c.a)(s.a.mark((function n(){var t,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(B){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,h.connection.getTransaction(B,{commitment:"confirmed"});case 5:(t=n.sent)?null!==(c=t.meta)&&void 0!==c&&c.err?U(S):P&&U(""):setTimeout(e,3e3),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),b.b.error(n.t0.message);case 12:return n.prev=12,z(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})));return function(){return n.apply(this,arguments)}}();e()}),[B]);var R,Y=(!B||!(null!==N&&void 0!==N&&N.key))&&!P,H=B&&(null===N||void 0===N?void 0:N.key)&&!P;return Object(x.jsxs)(m.B,{children:[Object(x.jsxs)(m.m,{children:[Object(x.jsx)(m.y,{children:H?"Success":P?"Something went wrong":"send"===a?"Sending...":"Swapping..."}),Object(x.jsx)(m.g,{children:H?"send"===a?"You\u2019ve successfully sent ".concat(u.amount.token.symbol):"You\u2019ve successfully swapped tokens":P?"send"===a?"Tokens have not been debited":"Tokens have not been swapped":"Transaction processing"}),Object(x.jsx)(m.e,{onClick:function(){"send"===a?Object(O.b)("send_close_click",{transactionConfirmed:!I}):"swap"===a&&Object(O.b)("swap_close_click",{transactionConfirmed:!I}),v(B)},children:Object(x.jsx)(m.d,{name:"close"})}),Object(x.jsx)(m.a,{className:d()({isProcessing:Y,isSuccess:H,isError:Boolean(P)}),children:H?Object(x.jsx)(m.c,{name:"checkmark"}):Object(x.jsx)(m.n,{name:P?"warning":"timer"})})]}),Object(x.jsx)(m.o,{children:Object(x.jsx)(C,{style:{width:"".concat(y,"%")}})}),Object(x.jsxs)(m.f,{children:["send"===a?Object(x.jsx)(k,{params:u,transaction:N}):void 0,"swap"===a?Object(x.jsx)(_,{params:u}):void 0,B?Object(x.jsx)(m.k,{children:Object(x.jsxs)(m.j,{children:[Object(x.jsx)(m.h,{children:"Transaction ID"}),Object(x.jsxs)(m.i,{children:[B," ",Object(x.jsx)(m.r,{onClick:(R=Object(p.a)("tx",B,G),function(){try{navigator.clipboard.writeText(R),b.b.info("Copied to buffer!")}catch(e){console.error(e)}}),children:Object(x.jsx)(m.q,{name:"copy"})})]})]})}):void 0]}),Object(x.jsx)(m.l,{children:P?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.c,{primary:!0,disabled:I,onClick:function(){"send"===a?Object(O.b)("send_try_again_click",{error:P}):"swap"===a&&Object(O.b)("swap_try_again_click",{error:P}),J()},children:"Try again"}),Object(x.jsx)(j.c,{lightGray:!0,disabled:I,onClick:function(){"send"===a?Object(O.b)("send_cancel_click",{error:P}):"swap"===a&&Object(O.b)("swap_cancel_click",{error:P}),v(B)},children:"Cancel"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.c,{primary:!0,onClick:function(){"send"===a?Object(O.b)("send_done_click",{transactionConfirmed:!I}):"swap"===a&&Object(O.b)("swap_done_click",{transactionConfirmed:!I}),v(B)},children:"Done"}),B?Object(x.jsx)("a",{href:Object(p.a)("tx",B,G),target:"_blank",rel:"noopener noreferrer noindex",onClick:function(){"send"===a?Object(O.b)("send_explorer_click",{transactionConfirmed:!I}):"swap"===a&&Object(O.b)("swap_explorer_click",{transactionConfirmed:!I})},className:"button",children:Object(x.jsx)(m.b,{lightGray:!0,children:"View in blockchain explorer"})}):void 0]})})]})};t(1366)}}]);
//# sourceMappingURL=8.106ec514.chunk.js.map