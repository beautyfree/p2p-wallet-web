(this["webpackJsonpp2p-wallet-web"]=this["webpackJsonpp2p-wallet-web"]||[]).push([[6],{1260:function(e,n,t){"use strict";t.d(n,"B",(function(){return r})),t.d(n,"m",(function(){return o})),t.d(n,"y",(function(){return s})),t.d(n,"g",(function(){return l})),t.d(n,"e",(function(){return i})),t.d(n,"d",(function(){return u})),t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return m})),t.d(n,"n",(function(){return b})),t.d(n,"o",(function(){return f})),t.d(n,"f",(function(){return p})),t.d(n,"p",(function(){return v})),t.d(n,"z",(function(){return j})),t.d(n,"A",(function(){return O})),t.d(n,"x",(function(){return k})),t.d(n,"u",(function(){return w})),t.d(n,"w",(function(){return E})),t.d(n,"t",(function(){return h})),t.d(n,"v",(function(){return y})),t.d(n,"s",(function(){return g})),t.d(n,"k",(function(){return x})),t.d(n,"j",(function(){return S})),t.d(n,"h",(function(){return _})),t.d(n,"i",(function(){return C})),t.d(n,"q",(function(){return T})),t.d(n,"r",(function(){return B})),t.d(n,"l",(function(){return W})),t.d(n,"b",(function(){return A}));var a=t(1256),c=t(17),r=Object(a.a)("div")({name:"Wrapper",class:"w1oe2baa"}),o=Object(a.a)("div")({name:"Header",class:"h4f3mu3"}),s=Object(a.a)("div")({name:"Title",class:"t1i912uk"}),l=Object(a.a)("div")({name:"Desc",class:"dgkzfl6"}),i=Object(a.a)("div")({name:"CloseWrapper",class:"c1yz84kj"}),u=Object(a.a)(c.d)({name:"CloseIcon",class:"c1iyn34x"}),d=Object(a.a)("div")({name:"BlockWrapper",class:"bmn2tn4"}),m=Object(a.a)(c.d)({name:"CheckmarkIcon",class:"c177nl2c"}),b=Object(a.a)(c.d)({name:"OtherIcon",class:"o1sha4fn"}),f=Object(a.a)("div")({name:"ProgressWrapper",class:"p1prpn3v"}),p=Object(a.a)("div")({name:"Content",class:"c19lvhhk"}),v=Object(a.a)("div")({name:"SendWrapper",class:"s1wcgvvt"}),j=Object(a.a)("div")({name:"ValueCurrency",class:"v1y267t2"}),O=Object(a.a)("div")({name:"ValueOriginal",class:"v33wg3"}),k=Object(a.a)("div")({name:"SwapWrapper",class:"sd77she"}),w=Object(a.a)("div")({name:"SwapColumn",class:"s19h1co8"}),E=Object(a.a)("div")({name:"SwapInfo",class:"spgqtm3"}),h=Object(a.a)("div")({name:"SwapBlock",class:"spxj4if"}),y=Object(a.a)(c.d)({name:"SwapIcon",class:"s1733ag7"}),g=Object(a.a)("div")({name:"SwapAmount",class:"s1thhukn"}),x=Object(a.a)("div")({name:"FieldsWrapper",class:"frl1rem"}),S=Object(a.a)("div")({name:"FieldWrapper",class:"fiq91qb"}),_=Object(a.a)("div")({name:"FieldTitle",class:"f1i7cxvz"}),C=Object(a.a)("div")({name:"FieldValue",class:"f1g97ed6"}),T=Object(a.a)(c.d)({name:"ShareIcon",class:"s1r727wv"}),B=Object(a.a)("div")({name:"ShareWrapper",class:"s1uopwlq"}),W=Object(a.a)("div")({name:"Footer",class:"fvtky2j"}),A=Object(a.a)(c.c)({name:"ButtonExplorer",class:"b4w9gxk"});t(1261)},1261:function(e,n,t){},1268:function(e,n,t){},1275:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return x}));var a=t(1),c=t.n(a),r=t(3),o=t(6),s=t(0),l=t.n(s),i=t(24),u=t(1256),d=t(43),m=t(27),b=t.n(m),f=t(188),p=t(167),v=t(60),j=t(78),O=t(17),k=t(144),w=t(38),E=t(277),h=t(200),y=t(1260),g=Object(u.a)("div")({name:"ProgressLine",class:"p1d4rjaa"}),x=function(e){var n,t,a=e.type,u=e.action,m=e.fromToken,x=e.fromAmount,S=e.toToken,_=e.toAmount,C=e.close,T=Object(i.c)(),B=Object(s.useState)(5),W=Object(o.a)(B,2),A=W[0],D=W[1],I=Object(s.useState)(!1),z=Object(o.a)(I,2),F=z[0],q=z[1],M=Object(s.useState)(""),V=Object(o.a)(M,2),N=V[0],P=V[1],G=Object(s.useState)(null),J=Object(o.a)(G,2),Y=J[0],H=J[1],L=Object(i.d)((function(e){return Y&&e.transaction.items[Y]&&f.a.from(e.transaction.items[Y])||null})),K=Object(i.d)((function(e){return e.wallet.network.cluster})),Q=Object(i.d)((function(e){return e.wallet.tokenAccounts}));Object(s.useEffect)((function(){var e=5;if(F){var n=setInterval((function(){D(A<=95?e+=7:e=95)}),2500);return function(){clearTimeout(n),D(100)}}}),[F]);var R=function(){var e=Object(r.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.t0=d.e,e.next=5,T(u);case 5:e.t1=e.sent,n=(0,e.t0)(e.t1),H(n),"send"===a&&Object(h.b)({header:"Sent",text:"- ".concat(m.toMajorDenomination(x).toString()," ").concat(m.symbol),symbol:m.symbol}),e.next=16;break;case 11:e.prev=11,e.t2=e.catch(0),P(e.t2.message),q(!1),v.b.error(a,e.t2.message);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){R()}),[]),Object(s.useEffect)((function(){var e=function(){var n=Object(r.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Y){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.t0=d.e,n.next=6,T(Object(k.c)(Y));case 6:if(n.t1=n.sent,(0,n.t0)(n.t1)){n.next=11;break}return setTimeout(e,3e3),n.abrupt("return");case 11:N&&P(""),n.next=19;break;case 14:n.prev=14,n.t2=n.catch(2),P(n.t2.message),q(!1),v.b.error(n.t2.message);case 19:q(!1);case 20:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(){return n.apply(this,arguments)}}();e()}),[Y]);var U,X=Object(s.useMemo)((function(){return L?Q.find((function(e){var n;return e.address===(null===(n=L.short.destination)||void 0===n?void 0:n.toBase58())})):null}),[null===L||void 0===L?void 0:L.short.destination,Q]),Z=!Y||!L,$=Y&&L;return l.a.createElement(y.B,null,l.a.createElement(y.m,null,l.a.createElement(y.y,null,$?"Success":N?"Something went wrong":"send"===a?"Sending...":"Swapping..."),l.a.createElement(y.g,null,$?"send"===a?"You\u2019ve successfully sent ".concat(m.symbol):"You\u2019ve successfully swapped tokens":N?"send"===a?"Tokens have not been debited":"Tokens have not been swapped":"Transaction processing"),l.a.createElement(y.e,{onClick:function(){"send"===a?Object(w.b)("send_close_click",{transactionConfirmed:!F}):"swap"===a&&Object(w.b)("swap_close_click",{transactionConfirmed:!F}),C(Y)}},l.a.createElement(y.d,{name:"close"})),l.a.createElement(y.a,{className:b()({isProcessing:Z,isSuccess:$,isError:Boolean(N)})},$?l.a.createElement(y.c,{name:"checkmark"}):l.a.createElement(y.n,{name:N?"warning":"timer"}))),l.a.createElement(y.o,null,l.a.createElement(g,{style:{width:"".concat(A,"%")}})),l.a.createElement(y.f,null,"send"===a?l.a.createElement(y.p,null,l.a.createElement(y.z,null,X?"+":"-"," ",(null===L||void 0===L?void 0:L.short.destinationAmount.toNumber())||m.toMajorDenomination(x).toString()," ",(null===L||void 0===L||null===(n=L.short.sourceToken)||void 0===n?void 0:n.symbol)||m.symbol),l.a.createElement(y.A,null,l.a.createElement(p.a,{prefix:X?"+":"-",symbol:(null===L||void 0===L||null===(t=L.short.sourceToken)||void 0===t?void 0:t.symbol)||m.symbol,value:(null===L||void 0===L?void 0:L.short.destinationAmount)||m.toMajorDenomination(x)}))):void 0,"swap"===a&&S&&_?l.a.createElement(y.x,null,l.a.createElement(y.u,null,l.a.createElement(y.w,null,l.a.createElement(j.a,{symbol:m.symbol,address:null===m||void 0===m?void 0:m.address.toBase58(),size:44}),l.a.createElement(y.s,null,"- ",m.toMajorDenomination(x).toString()," ",m.symbol))),l.a.createElement(y.t,null,l.a.createElement(y.v,{name:"swap"})),l.a.createElement(y.u,null,l.a.createElement(y.w,null,l.a.createElement(j.a,{symbol:S.symbol,address:null===S||void 0===S?void 0:S.address.toBase58(),size:44}),l.a.createElement(y.s,null,"+ ",S.toMajorDenomination(_).toString()," ",S.symbol)))):void 0,Y?l.a.createElement(y.k,null,l.a.createElement(y.j,null,l.a.createElement(y.h,null,"Transaction ID"),l.a.createElement(y.i,null,Y," ",l.a.createElement(y.r,{onClick:(U=Object(E.a)("tx",Y,K),function(){try{navigator.clipboard.writeText(U),v.b.info("Copied to buffer!")}catch(e){console.error(e)}})},l.a.createElement(y.q,{name:"copy"}))))):void 0),l.a.createElement(y.l,null,N?l.a.createElement(l.a.Fragment,null,l.a.createElement(O.c,{primary:!0,disabled:F,onClick:function(){"send"===a?Object(w.b)("send_try_again_click",{error:N}):"swap"===a&&Object(w.b)("swap_try_again_click",{error:N}),R()}},"Try again"),l.a.createElement(O.c,{lightGray:!0,disabled:F,onClick:function(){"send"===a?Object(w.b)("send_cancel_click",{error:N}):"swap"===a&&Object(w.b)("swap_cancel_click",{error:N}),C(Y)}},"Cancel")):l.a.createElement(l.a.Fragment,null,l.a.createElement(O.c,{primary:!0,onClick:function(){"send"===a?Object(w.b)("send_done_click",{transactionConfirmed:!F}):"swap"===a&&Object(w.b)("swap_done_click",{transactionConfirmed:!F}),C(Y)}},"Done"),Y?l.a.createElement("a",{href:Object(E.a)("tx",Y,K),target:"_blank",rel:"noopener noreferrer noindex",onClick:function(){"send"===a?Object(w.b)("send_explorer_click",{transactionConfirmed:!F}):"swap"===a&&Object(w.b)("swap_explorer_click",{transactionConfirmed:!F})},className:"button"},l.a.createElement(y.b,{lightGray:!0},"View in blockchain explorer")):void 0)))};t(1268)}}]);
//# sourceMappingURL=6.910f054c.chunk.js.map