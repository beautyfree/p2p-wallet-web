(this["webpackJsonp@p2p-wallet-web/web"]=this["webpackJsonp@p2p-wallet-web/web"]||[]).push([[14],{1385:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(55),r=n(103),s=n(69),a=n(178),o=n(488),i=n(15),u=n(1375),l=n(0),j=function(e){var t,n,j=e.params,b=j.inputTokenName,f=j.outputTokenName,d=j.inputAmount,p=e.swapInfo,O=e.userTokenAccounts,m=e.feeLimitsInfo,x=e.networkFees,v=e.solanaProvider,h=e.priceInfo,w=e.feeCompensationInfo,k=e.showTitle,I=Object(c.g)().tokenConfigs,g=(null===(t=I[b])||void 0===t?void 0:t.decimals)||0,T=(null===(n=I[f])||void 0===n?void 0:n.decimals)||0,A=Object(r.a)(p.trade.getMinimumOutputAmount(),T),C=Object(r.a)(p.trade.getOutputAmount(),T);return Object(l.jsxs)(u.m,{children:[k&&Object(l.jsx)(u.i,{children:"You are going to swap"}),Object(l.jsxs)(u.h,{className:"swap",children:[Object(l.jsxs)(u.a,{children:[Object(l.jsx)(s.a,{symbol:b,size:44}),Object(l.jsxs)(u.f,{children:[Object(l.jsxs)(u.d,{children:[Object(r.a)(d,g)," ",b]}),Object(l.jsx)(u.e,{children:Object(l.jsx)(a.a,{prefix:"~",amount:d,tokenName:b})})]})]}),Object(l.jsx)(u.b,{children:Object(l.jsx)(u.g,{children:Object(l.jsx)(i.d,{name:"arrow-down"})})})]}),Object(l.jsx)(u.h,{className:"top",children:Object(l.jsxs)(u.a,{children:[Object(l.jsx)(s.a,{symbol:f,size:44}),Object(l.jsxs)(u.f,{children:[Object(l.jsxs)(u.d,{children:[C," ",f]}),Object(l.jsxs)(u.e,{children:["Receive at least: ",A," ",f]})]})]})}),Object(l.jsx)(o.a,{swapInfo:p,userTokenAccounts:O,feeCompensationInfo:w,feeLimitsInfo:m,priceInfo:h,solanaProvider:v,networkFees:x,open:!1,forPage:!1})]})}},1416:function(e,t,n){"use strict";n.r(t),n.d(t,"TransactionStatusModal",(function(){return O})),n.d(t,"default",(function(){return O}));var c=n(8),r=n(4),s=n(1),a=n.n(s),o=n(2),i=n(24),u=n(84),l=n(1385),j=n(36),b=n(1390),f=n(1370),d=n(0),p="Transaction error",O=function(e){var t,n,s=e.action,O=e.close,m=e.userTokenAccounts,x=e.priceInfo,v=e.solanaProvider,h=e.swapInfo,w=e.feeLimitsInfo,k=e.feeCompensationInfo,I=e.networkFees,g=e.params,T=Object(i.G)().provider,A=Object(o.useState)(!1),C=Object(r.a)(A,2),N=C[0],P=C[1],y=Object(o.useState)(""),S=Object(r.a)(y,2),E=S[0],F=S[1],L=Object(i.B)(E),_=Object(o.useState)(null!==L&&void 0!==L&&null!==(t=L.raw)&&void 0!==t&&null!==(n=t.meta)&&void 0!==n&&n.err?p:""),B=Object(r.a)(_,2),z=B[0],D=B[1],J=Object(i.r)().network,M=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,s();case 4:t=e.sent,F(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),P(!1),D(p);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){M()}),[]),Object(o.useEffect)((function(){var e=function(){var t=Object(c.a)(a.a.mark((function t(){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,T.connection.getTransaction(E,{commitment:"confirmed"});case 5:(n=t.sent)?null!==n&&void 0!==n&&null!==(c=n.meta)&&void 0!==c&&c.err?D(p):z&&D(""):setTimeout(e,3e3),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),D(t.t0.message),u.b.error(t.t0.message);case 13:return t.prev=13,P(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,9,13,16]])})));return function(){return t.apply(this,arguments)}}();e()}),[E]);var G=function(){Object(j.b)("swap_close_click",{transactionConfirmed:!N}),O(E)},R=Boolean(z),Y=(!E||!(null!==L&&void 0!==L&&L.key))&&!R,q=Boolean(E&&(null===L||void 0===L?void 0:L.key)&&!R);return Object(d.jsxs)(f.D,{close:G,noDelimiter:!0,children:[Object(d.jsx)(f.o,{children:Object(d.jsxs)(f.l,{children:[h.trade.inputTokenName," \u2192 ",h.trade.outputTokenName,Object(d.jsx)(f.d,{onClick:G,children:Object(d.jsx)(f.c,{name:"close"})}),Object(d.jsx)(b.a,{})]})}),Object(d.jsx)(b.c,{isError:R,isProcessing:Y,isSuccess:q,isExecuting:N,label:"Swap status:"}),Object(d.jsx)(f.o,{children:Object(d.jsx)(l.a,{params:g,userTokenAccounts:m,priceInfo:x,solanaProvider:v,feeLimitsInfo:w,feeCompensationInfo:k,networkFees:I,swapInfo:h,forPage:!1,showTitle:!1})}),Object(d.jsx)(b.b,{signature:E,network:J,amplitudeAction:{name:"swap_explorer_click",data:{transactionConfirmed:!N}}})]})}}}]);
//# sourceMappingURL=14.8f3530c6.chunk.js.map