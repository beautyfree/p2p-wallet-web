{"version":3,"sources":["components/modals/CloseTokenAccountModal/CloseTokenAccountModal.tsx"],"names":["Wrapper","IconWrapper","CloseAccountIcon","Header","Description","Buttons","ButtonClose","ButtonCancel","CloseTokenAccountModal","close","dispatch","useDispatch","useState","handleCloseTokenAButtonClick","a","setIsExecuting","closeTokenAccount","publicKey","removeClosedTokenKeys","console","setTimeout","history","name","disabled","onClick","lightBlue"],"mappings":"qSAYMA,EAAO,qDAcPC,EAAW,0DAcXC,EAAgB,6DAOhBC,EAAM,oDAQNC,EAAW,yDAYXC,EAAO,sDAIPC,EAAW,wDAcXC,EAAY,yDAWLC,EAAmD,SAAC,GAK3D,IAL2D,EAK3D,EAL2D,YAK3D,EAL2D,YAK3D,EAL2D,QAI/DC,EACI,EADJA,MAEMC,EAAWC,cACjB,EAAsCC,oBAAtC,sBAAM,EAAN,KAAM,EAAN,KAMMC,EAA4B,uCAAG,sBAAAC,EAAA,sEAEjCC,MAFiC,SAG3BL,EAASM,YAAkB,CAAEC,eAHF,OAIjCC,YAAsBD,EAAtBC,YAJiC,gDAMjCC,kBANiC,yBAQjCJ,MARiC,qBAWnCK,YAAW,WACTC,qBADFD,KAIAX,IAfmC,+DAAH,qDAkBlC,OACE,yBACE,yBACE,qBAAkBa,KAAlB,YAEF,yCAAQ,EAAR,cACA,yKAIA,yBACE,qBAAaC,SAAb,EAAoCC,QAApC,0BAGA,qBAAcC,WAAd,EAAwBF,SAAxB,EAA+CC,QApCtB,WAC7Bf,MAmCI,a","file":"static/js/7.bdaadbba.chunk.js","sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport type * as web3 from '@solana/web3.js';\nimport type { History } from 'history';\n\nimport { Button, Icon } from 'components/ui';\nimport { closeTokenAccount } from 'store/slices/wallet/WalletSlice';\nimport { removeClosedTokenKeys } from 'utils/settings';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  flex-basis: 504px;\n  flex-direction: column;\n  padding: 32px 0 0;\n\n  overflow: hidden;\n\n  background: #fff;\n  border-radius: 15px;\n`;\n\nconst IconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n\n  margin: 0 20px;\n  padding: 8px;\n\n  background: #f77;\n  border-radius: 12px;\n`;\n\nconst CloseAccountIcon = styled(Icon)`\n  width: 25px;\n  height: 25px;\n\n  color: #fff;\n`;\n\nconst Header = styled.div`\n  margin-top: 20px;\n  padding: 0 20px;\n\n  font-weight: 600;\n  font-size: 20px;\n`;\n\nconst Description = styled.div`\n  margin-top: 12px;\n  padding: 0 20px 32px;\n\n  color: #a3a5ba;\n\n  font-weight: 600;\n  font-size: 16px;\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n`;\n\nconst Buttons = styled.div`\n  padding: 24px 20px;\n`;\n\nconst ButtonClose = styled(Button)`\n  margin-right: 16px;\n\n  color: #f43d3d;\n\n  border: 1px solid #f43d3d;\n\n  &:disabled {\n    background: #f77;\n    border: none;\n    opacity: 0.5;\n  }\n`;\n\nconst ButtonCancel = styled(Button)`\n  min-width: 93px;\n`;\n\ntype Props = {\n  publicKey: web3.PublicKey;\n  tokenName: string;\n  history: History;\n  close: () => void;\n};\n\nexport const CloseTokenAccountModal: FunctionComponent<Props> = ({\n  publicKey,\n  tokenName,\n  history,\n  close,\n}) => {\n  const dispatch = useDispatch();\n  const [isExecuting, setIsExecuting] = useState(false);\n\n  const handleCloseButtonClick = () => {\n    close();\n  };\n\n  const handleCloseTokenAButtonClick = async () => {\n    try {\n      setIsExecuting(true);\n      await dispatch(closeTokenAccount({ publicKey }));\n      removeClosedTokenKeys(publicKey.toBase58());\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsExecuting(false);\n    }\n\n    setTimeout(() => {\n      history.push('/wallets');\n    }, 100);\n\n    close();\n  };\n\n  return (\n    <Wrapper>\n      <IconWrapper>\n        <CloseAccountIcon name=\"bucket\" />\n      </IconWrapper>\n      <Header>{`Close ${tokenName} account?`}</Header>\n      <Description>\n        Are you sure you want to delete token account? This will permanently disable token transfers\n        to this address and remove it from your wallet.\n      </Description>\n      <Buttons>\n        <ButtonClose disabled={isExecuting} onClick={handleCloseTokenAButtonClick}>\n          Close token account\n        </ButtonClose>\n        <ButtonCancel lightBlue disabled={isExecuting} onClick={handleCloseButtonClick}>\n          Cancel\n        </ButtonCancel>\n      </Buttons>\n    </Wrapper>\n  );\n};\n"],"sourceRoot":""}