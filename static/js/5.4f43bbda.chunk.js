(this["webpackJsonp@p2p-wallet-web/web"]=this["webpackJsonp@p2p-wallet-web/web"]||[]).push([[5],{1368:function(e,n,t){"use strict";t.d(n,"L",(function(){return s})),t.d(n,"p",(function(){return r})),t.d(n,"F",(function(){return i})),t.d(n,"h",(function(){return o})),t.d(n,"e",(function(){return d})),t.d(n,"d",(function(){return l})),t.d(n,"c",(function(){return u})),t.d(n,"q",(function(){return j})),t.d(n,"t",(function(){return b})),t.d(n,"r",(function(){return O})),t.d(n,"s",(function(){return f})),t.d(n,"a",(function(){return v})),t.d(n,"I",(function(){return p})),t.d(n,"G",(function(){return x})),t.d(n,"H",(function(){return h})),t.d(n,"f",(function(){return k})),t.d(n,"v",(function(){return w})),t.d(n,"J",(function(){return g})),t.d(n,"K",(function(){return y})),t.d(n,"D",(function(){return S})),t.d(n,"A",(function(){return F})),t.d(n,"C",(function(){return T})),t.d(n,"z",(function(){return A})),t.d(n,"B",(function(){return C})),t.d(n,"y",(function(){return I})),t.d(n,"l",(function(){return W})),t.d(n,"k",(function(){return N})),t.d(n,"i",(function(){return E})),t.d(n,"j",(function(){return B})),t.d(n,"w",(function(){return L})),t.d(n,"x",(function(){return P})),t.d(n,"m",(function(){return z})),t.d(n,"b",(function(){return U})),t.d(n,"u",(function(){return q})),t.d(n,"g",(function(){return D})),t.d(n,"E",(function(){return H})),t.d(n,"n",(function(){return V})),t.d(n,"o",(function(){return G}));var c=t(179),a=t(15),s=Object(c.a)("div")({name:"Wrapper",class:"w1oe2baa"}),r=Object(c.a)("div")({name:"Header",class:"h4f3mu3"}),i=Object(c.a)("div")({name:"Title",class:"t1i912uk"}),o=Object(c.a)("div")({name:"Desc",class:"dgkzfl6"}),d=Object(c.a)("div")({name:"CloseWrapper",class:"c1yz84kj"}),l=Object(c.a)(a.d)({name:"CloseIcon",class:"c1iyn34x"}),u=Object(c.a)(a.d)({name:"CheckmarkIcon",class:"cmn2tn4"}),j=Object(c.a)(a.d)({name:"OtherIcon",class:"o177nl2c"}),b=Object(c.a)("div")({name:"ProgressWrapper",class:"p1sha4fn"}),m=Object(c.a)("div")({name:"StatusColors",class:"s1prpn3v"}),O=Object(c.a)("div")({name:"ProgressLine",class:"p19lvhhk"}),f=Object(c.a)("div")({name:"ProgressStub",class:"p1wcgvvt"}),v=Object(c.a)(m)({name:"BlockWrapper",class:"b1y267t2"}),p=Object(c.a)("div")({name:"TransactionStatus",class:"t33wg3"}),x=Object(c.a)("div")({name:"TransactionBadge",class:"td77she"}),h=Object(c.a)(m)({name:"TransactionLabel",class:"t19h1co8"}),k=Object(c.a)("div")({name:"Content",class:"cpgqtm3"}),w=Object(c.a)("div")({name:"SendWrapper",class:"spxj4if"}),g=Object(c.a)("div")({name:"ValueCurrency",class:"v1733ag7"}),y=Object(c.a)("div")({name:"ValueOriginal",class:"v1thhukn"}),S=Object(c.a)("div")({name:"SwapWrapper",class:"srl1rem"}),F=Object(c.a)("div")({name:"SwapColumn",class:"siq91qb"}),T=Object(c.a)("div")({name:"SwapInfo",class:"s1i7cxvz"}),A=Object(c.a)("div")({name:"SwapBlock",class:"s1g97ed6"}),C=Object(c.a)(a.d)({name:"SwapIcon",class:"s1r727wv"}),I=Object(c.a)("div")({name:"SwapAmount",class:"s1uopwlq"}),W=Object(c.a)("div")({name:"FieldsWrapper",class:"fvtky2j"}),N=Object(c.a)("div")({name:"FieldWrapper",class:"f4w9gxk"}),E=Object(c.a)("div")({name:"FieldTitle",class:"fr8alv0"}),B=Object(c.a)("div")({name:"FieldValue",class:"f1mpmgz6"}),L=Object(c.a)(a.d)({name:"ShareIcon",class:"srflw21"}),P=Object(c.a)("div")({name:"ShareWrapper",class:"snbfb0c"}),z=Object(c.a)("div")({name:"Footer",class:"fv972vg"}),U=Object(c.a)(a.c)({name:"ButtonExplorer",class:"b13kvcdz"}),q=Object(c.a)("div")({name:"Section",class:"s15e00n6"}),D=Object(c.a)("div")({name:"DateHeader",class:"dv1swpr"}),H=Object(c.a)("div")({name:"Time",class:"t1f9epp7"}),V=Object(c.a)(a.d)({name:"GoToExplorerIcon",class:"g1q6wehg"}),G=Object(c.a)("a")({name:"GoToExplorerLink",class:"g1iszc"});t(1371)},1370:function(e,n,t){"use strict";t.d(n,"h",(function(){return s})),t.d(n,"a",(function(){return r})),t.d(n,"k",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"f",(function(){return d})),t.d(n,"d",(function(){return l})),t.d(n,"j",(function(){return u})),t.d(n,"e",(function(){return j})),t.d(n,"i",(function(){return b})),t.d(n,"l",(function(){return m})),t.d(n,"b",(function(){return O})),t.d(n,"g",(function(){return f}));var c=t(179),a=t(15),s=Object(c.a)("div")({name:"Section",class:"sxfy27d"}),r=Object(c.a)("div")({name:"FieldInfo",class:"f1iduq9w"}),i=Object(c.a)(a.d)({name:"WalletIcon",class:"w1hlmgol"}),o=Object(c.a)("div")({name:"IconWrapper",class:"i9bufhm"}),d=Object(c.a)("div")({name:"InfoWrapper",class:"ivnnc45"}),l=Object(c.a)("div")({name:"InfoTitle",class:"icxt4d5"}),u=Object(c.a)(l)({name:"Username",class:"ui6fe90"}),j=Object(c.a)("div")({name:"InfoValue",class:"ixjo5xz"}),b=Object(c.a)("div")({name:"Subtitle",class:"s1yjs7sp"}),m=Object(c.a)("div")({name:"Wrapper",class:"w19nrvyc"}),O=Object(c.a)("div")({name:"FromToWrapper",class:"f1fipug1"}),f=Object(c.a)("div")({name:"Overlay",class:"o1t28dbd"});t(1380)},1371:function(e,n,t){},1376:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var c=t(179),a=t(227),s=t(129),r=t(70),i=t(27),o=t(343),d=t(176),l=t(15),u=t(226),j=t(50),b=t(0),m=Object(c.a)("div")({name:"TokenAndUsd",class:"t1dpujm0"}),O=function(e){var n,t,c,a,s,r,O,f,v,p=e.sendState,x=e.userFreeFeeLimits,h=e.networkFees,k=e.amount,w=Object(i.N)().settings.useFreeTransactions;return Object(b.jsxs)(l.a,{title:Object(b.jsx)(u.a,{title:"Transaction details",titleBottomName:"Total",titleBottomValue:p.details.totalAmount||""}),open:!1,noContentPadding:!0,children:[Object(b.jsxs)(j.a,{children:[Object(b.jsxs)(j.b,{children:[Object(b.jsx)(j.c,{className:"gray",children:"Receive"}),Object(b.jsxs)(m,{children:[Object(b.jsx)(j.c,{children:p.details.receiveAmount}),Object(b.jsx)(d.b,{prefix:"~",amount:(null===(n=p.parsedAmount)||void 0===n?void 0:n.toU64())||k,tokenName:null===(t=p.fromTokenAccount)||void 0===t||null===(c=t.balance)||void 0===c?void 0:c.token.symbol})]})]}),Object(b.jsxs)(j.b,{children:[Object(b.jsx)(j.c,{className:"gray",children:"Transaction fee"}),w?Object(b.jsxs)(j.c,{children:["Free"," ",Object(b.jsxs)(j.c,{className:"green inline-flex",children:["(Paid by P2P.org)",Object(b.jsx)(o.a,{userFreeFeeLimits:x})]})]}):Object(b.jsx)(j.c,{children:"1"})]}),p.details.accountCreationAmount?Object(b.jsxs)(j.b,{children:[Object(b.jsxs)(j.c,{className:"gray",children:[null===(a=p.destinationAccount)||void 0===a?void 0:a.symbol," account creation"]}),Object(b.jsxs)(m,{children:[Object(b.jsx)(j.c,{children:p.details.accountCreationAmount}),Object(b.jsx)(d.b,{prefix:"~",amount:null===h||void 0===h?void 0:h.accountRentExemption,tokenName:null===(s=p.fromTokenAccount)||void 0===s||null===(r=s.balance)||void 0===r?void 0:r.token.symbol})]})]}):void 0]}),Object(b.jsx)(j.a,{className:"total",children:Object(b.jsxs)(j.b,{children:[Object(b.jsx)(j.c,{children:"Total"}),Object(b.jsxs)(m,{children:[Object(b.jsx)(j.c,{children:p.details.totalAmount}),Object(b.jsx)(d.b,{prefix:"~",amount:(null===(O=p.parsedAmount)||void 0===O?void 0:O.toU64())||k,tokenName:null===(f=p.fromTokenAccount)||void 0===f||null===(v=f.balance)||void 0===v?void 0:v.token.symbol})]})]})})]})};t(1381);var f=t(1370),v=Object(c.a)("div")({name:"ArrowWrapper",class:"a86hbkb"}),p=Object(c.a)("div")({name:"ArrowIconWrapper",class:"a1j2sz5p"}),x=Object(c.a)(l.d)({name:"ArrowIcon",class:"a1yaxcc8"}),h=function(e){var n,t,c,i,o=e.params,d=e.sendState,l=e.userFreeFeeLimits,u=e.networkFees,j=e.btcAddress,m=(null===(n=o.destination)||void 0===n||null===(t=n.toBase58)||void 0===t?void 0:t.call(n))||j;return Object(b.jsxs)(f.h,{className:"send",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)(f.a,{children:[Object(b.jsx)(r.a,{symbol:null===(c=o.source.balance)||void 0===c?void 0:c.token.symbol,address:null===(i=o.source.balance)||void 0===i?void 0:i.token.address,size:44}),Object(b.jsxs)(f.f,{children:[Object(b.jsx)(f.d,{children:o.amount.formatUnits()}),Object(b.jsx)(f.e,{children:Object(b.jsx)(s.a,{value:o.amount})})]})]}),Object(b.jsx)(v,{children:Object(b.jsx)(p,{children:Object(b.jsx)(x,{name:"arrow-down"})})}),Object(b.jsxs)(f.a,{children:[Object(b.jsx)(f.c,{children:Object(b.jsx)(f.k,{name:"wallet"})}),Object(b.jsxs)(f.f,{children:[o.username?Object(b.jsx)(f.j,{children:o.username}):Object(b.jsx)(f.d,{className:"secondary",children:"To address"}),Object(b.jsx)(f.e,{children:m&&Object(b.jsx)(a.a,{address:m,medium:!0})})]})]})]}),Object(b.jsx)(O,{sendState:d,userFreeFeeLimits:l,networkFees:u,amount:o.amount.toU64()})]})};t(1382)},1380:function(e,n,t){},1381:function(e,n,t){},1382:function(e,n,t){},1410:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return w}));var c=t(8),a=t(4),s=t(1),r=t.n(s),i=t(2),o=t(24),d=t(80),l=t(28),u=t.n(l),j=t(308),b=t.n(j),m=t(83),O=t(36),f=t(277),v=t(241),p=t(1376),x=t(1368),h=t(0),k="Transaction error",w=function(e){var n,t,s=e.type,l=e.action,j=e.params,w=e.sendState,g=e.userFreeFeeLimits,y=e.networkFees,S=e.close,F=Object(o.G)().provider,T=Object(d.e)().network,A=Object(i.useState)(5),C=Object(a.a)(A,2),I=C[0],W=C[1],N=Object(i.useState)(!1),E=Object(a.a)(N,2),B=E[0],L=E[1],P=Object(i.useState)(null),z=Object(a.a)(P,2),U=z[0],q=z[1],D=Object(o.B)(U),H=Object(i.useState)(null!==D&&void 0!==D&&null!==(n=D.raw)&&void 0!==n&&null!==(t=n.meta)&&void 0!==t&&t.err?k:""),V=Object(a.a)(H,2),G=V[0],_=V[1];Object(i.useEffect)((function(){var e=5;if(B){var n=setInterval((function(){W(I<=95?e+=7:e=95)}),2500);return function(){clearTimeout(n),W(100)}}}),[B]);var M=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,L(!0),e.t0=s,e.next="send"===e.t0?5:11;break;case 5:return e.next=7,l();case 7:return n=e.sent,q(n),Object(v.b)({header:"Sent",text:"- ".concat(j.amount.formatUnits()),symbol:j.amount.token.symbol}),e.abrupt("break",12);case 11:throw new Error("Wrong type");case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(0),L(!1),"send"===s&&m.b.error(s,e.t1.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){M()}),[]),Object(i.useEffect)((function(){var e=function(){var n=Object(c.a)(r.a.mark((function n(){var t,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(U){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,F.connection.getTransaction(U,{commitment:"confirmed"});case 5:(t=n.sent)?null!==(c=t.meta)&&void 0!==c&&c.err?_(k):G&&_(""):setTimeout(e,2500),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),m.b.error(n.t0.message);case 12:return n.prev=12,L(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})));return function(){return n.apply(this,arguments)}}();e()}),[U]);var Y=(!U||!(null!==D&&void 0!==D&&D.key))&&!G,J=Boolean(U&&(null===D||void 0===D?void 0:D.key)&&!G),R=Boolean(G),K=new Date,Q=K.getHours()-K.getUTCHours(),X=w.destinationAddress.replace(w.destinationAddress.substring(4,w.destinationAddress.length-4),"...");return Object(h.jsxs)(x.L,{children:[Object(h.jsx)(x.u,{children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(x.p,{children:[j.amount.token.symbol," \u2192 ",X,Object(h.jsx)(x.e,{onClick:function(){Object(O.b)("send_close_click",{transactionConfirmed:!B}),S(U)},children:Object(h.jsx)(x.d,{name:"close"})})]}),Object(h.jsxs)(x.g,{children:[Object(h.jsx)("span",{children:b()().format("MMMM D, YYYY")}),Object(h.jsx)(x.E,{children:b()().format("hh:mm:ss")}),Object(h.jsxs)("span",{children:["(UTC",Q>=0?"+":"-",Q,")"]})]})]})}),Object(h.jsxs)(x.t,{children:[Object(h.jsx)(x.r,{style:{width:"".concat(I,"%")},className:u()({isSuccess:J,isError:R})}),Object(h.jsx)(x.s,{}),Object(h.jsx)(x.a,{className:u()({isProcessing:Y,isSuccess:J,isError:R}),children:J?Object(h.jsx)(x.c,{name:"success-send"}):Object(h.jsx)(x.q,{name:G?"error-send":"clock-send"})})]}),Object(h.jsxs)(x.u,{children:[Object(h.jsxs)(x.I,{children:["Transaction status:",Object(h.jsxs)(x.G,{children:[Object(h.jsx)(x.H,{className:u()({isProcessing:Y,isSuccess:J,isError:R})}),function(e,n,t){switch(!0){case e:return"Pending";case t:return"Error";case n:return"Completed";default:return"Pending"}}(B,J,R)]})]}),Object(h.jsx)(p.a,{sendState:w,userFreeFeeLimits:g,params:j,networkFees:y})]}),Object(h.jsx)(x.m,{children:Object(h.jsxs)(x.o,{href:U?Object(f.a)("tx",U,T):"",target:"_blank",rel:"noopener noreferrer noindex",onClick:function(){Object(O.b)("send_explorer_click",{transactionConfirmed:!B})},className:u()({isDisabled:!U}),children:[Object(h.jsx)(x.n,{name:"external"}),"View in Solana explorer"]})})]})}}}]);
//# sourceMappingURL=5.4f43bbda.chunk.js.map