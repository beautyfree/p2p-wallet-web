{"version":3,"sources":["components/ui/Modal/Modal.tsx","components/common/ButtonCancel/ButtonCancel.tsx","components/modals/TransactionConfirmModal/common/styled.ts","components/common/TransactionDetails/TransactionDetails.tsx","components/modals/TransactionConfirmModal/Send/Send.tsx","components/modals/TransactionConfirmModal/Swap/Swap.tsx","components/modals/TransactionConfirmModal/TransactionConfirmModal.tsx"],"names":["easing","BezierEasing","AnimatedDialogContent","animated","StyledDialogContent","props","mobile","Handle","Header","Delimiter","IconWrapper","IconStyled","Title","Description","CloseIcon","Content","Footer","Modal","children","useState","isMobile","useIsMobile","useEffect","setIsOpen","config","useMemo","duration","t","from","transform","enter","leave","fadeTransition","useTransition","isOpen","useSpring","y","mass","tension","friction","bind","useDrag","state","set","close","item","style","n","className","title","description","name","onClick","noDelimiter","classNames","hasIcon","Boolean","iconName","footer","CancelIcon","ButtonCancel","hollow","error","Section","SectionTitle","FieldInfo","WalletIcon","InfoWrapper","InfoTitle","Username","InfoValue","TransactionDetails","accordion","id","rows","titleClassName","value","useSettings","settings","useFreeTransactions","titleBottomName","titleBottomValue","ArrowWrapper","ArrowIconWrapper","ArrowIcon","Send","params","symbol","address","size","medium","Swap","minimumOutputAmount","tokenConfigs","useConfig","formatBigNumber","inputAmount","WrapperModal","SubTitle","ActionTitle","PasswordInputStyled","SendIcon","TransactionConfirmModal","walletProviderInfo","useWallet","tryUnlockSeedAndMnemonic","useTryUnlockSeedAndMnemonic","type","trackEvent","validatePassword","a","setHasError","handleConfirmClick","handleCloseClick","isSecretKeyWallet","DEFAULT_WALLET_PROVIDERS","DefaultWalletType","isDisabled","password","renderTitle","action","primary","disabled","renderButtons","onChange","setPassword","hasError","noIcon"],"mappings":"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","file":"static/js/4.51671471.chunk.js","sourcesContent":["import type { FunctionComponent } from 'react';\nimport { useEffect, useMemo, useState } from 'react';\nimport * as React from 'react';\nimport { animated, useSpring, useTransition } from 'react-spring';\n\nimport { styled } from '@linaria/react';\nimport { theme, up, useIsMobile } from '@p2p-wallet-web/ui';\nimport { DialogContent } from '@reach/dialog';\nimport { useDrag } from '@use-gesture/react';\nimport BezierEasing from 'bezier-easing';\nimport classNames from 'classnames';\n\nimport { MOBILE_FOOTER_TABS_HEIGHT } from 'components/common/Layout';\nimport { Icon } from 'components/ui';\n\nconst easing = BezierEasing(0.7, -0.4, 0.4, 1.4);\n\nconst AnimatedDialogContent = animated(DialogContent);\n\nconst StyledDialogContent = styled(({ ...props }) => <AnimatedDialogContent {...props} />)`\n  overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n\n  &[data-reach-dialog-content] {\n    position: fixed;\n    right: 0;\n    bottom: ${MOBILE_FOOTER_TABS_HEIGHT}px;\n\n    display: flex;\n    flex-direction: column;\n    align-self: flex-end;\n    width: 100vw;\n    max-height: 80vh;\n    margin: 0;\n    padding: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n\n    background: ${theme.colors.bg.primary};\n    border-radius: 18px 18px 0 0;\n\n    touch-action: none;\n\n    ${up.tablet} {\n      position: relative;\n      right: unset;\n      bottom: unset;\n\n      align-self: center;\n      width: unset;\n      height: unset;\n      margin: 0;\n      overflow-y: hidden;\n\n      border-radius: 12px;\n    }\n  }\n`;\n\nconst Handle = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 16px;\n\n  &::before {\n    position: absolute;\n\n    width: 31px;\n    height: 4px;\n\n    background: ${theme.colors.textIcon.buttonDisabled};\n\n    content: '';\n  }\n`;\n\nconst Header = styled.div`\n  position: relative;\n\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  min-height: 74px;\n`;\n\nconst Delimiter = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &.hasIcon {\n    height: 44px;\n\n    ${up.tablet} {\n      height: 56px;\n    }\n  }\n\n  &::before {\n    position: absolute;\n\n    width: 100%;\n    height: 1px;\n\n    background: ${theme.colors.stroke.secondary};\n\n    content: '';\n  }\n`;\n\nconst IconWrapper = styled.div`\n  z-index: 1;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 44px;\n  height: 44px;\n\n  border-radius: 12px;\n\n  ${up.tablet} {\n    width: 56px;\n    height: 56px;\n  }\n\n  &.warning {\n    background: ${theme.colors.system.warningMain};\n  }\n`;\n\nconst IconStyled = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: ${theme.colors.textIcon.buttonPrimary};\n\n  ${up.tablet} {\n    width: 32px;\n    height: 32px;\n  }\n`;\n\nconst Title = styled.div`\n  color: ${theme.colors.textIcon.primary};\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 140%;\n  letter-spacing: 0.01em;\n`;\n\nconst Description = styled.div`\n  color: ${theme.colors.textIcon.secondary};\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 120%;\n  letter-spacing: 0.01em;\n`;\n\nconst CloseIcon = styled(Icon)`\n  position: absolute;\n  top: 25px;\n  right: 20px;\n\n  width: 24px;\n  height: 24px;\n\n  color: ${theme.colors.textIcon.active};\n\n  cursor: pointer;\n`;\n\nconst Content = styled.div`\n  padding: 0 16px;\n\n  ${up.tablet} {\n    padding: 0 20px;\n  }\n`;\n\nconst Footer = styled.div`\n  display: grid;\n  grid-auto-flow: row;\n  grid-gap: 16px;\n  margin-bottom: 16px;\n  padding: 0 16px;\n\n  ${up.tablet} {\n    grid-auto-flow: column;\n    padding: 20px;\n  }\n`;\n\ntype Props = {\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  footer?: React.ReactNode;\n  iconName?: string;\n  iconBgClassName?: string;\n\n  noDelimiter: boolean;\n  close: () => void;\n  className?: string;\n};\n\nexport const Modal: FunctionComponent<Props> = ({\n  title,\n  description,\n  footer,\n  iconName,\n  iconBgClassName,\n\n  noDelimiter,\n  close,\n  className,\n\n  children,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const isMobile = useIsMobile();\n\n  useEffect(() => {\n    setIsOpen(true);\n\n    return () => {\n      setIsOpen(false);\n    };\n  }, []);\n\n  const config = useMemo(() => {\n    if (isMobile) {\n      return {\n        config: { duration: 600, easing: (t: number) => easing(t) },\n        from: { transform: 'translateY(100px)' },\n        enter: { transform: 'translateX(0)' },\n        leave: { transform: 'translateY(100px)' },\n      };\n    }\n\n    return {\n      // config: { duration: 600, easing: (t: number) => easing(t) },\n      // from: { transform: 'translateX(422px)' },\n      // enter: { transform: 'translateX(0)' },\n      // leave: { transform: 'translateX(422px)' },\n    };\n  }, [isMobile]);\n\n  const fadeTransition = useTransition(isOpen, null, config);\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }));\n  const bind = useDrag((state) => {\n    set({\n      y: state.down ? state.movement[1] : 0,\n    });\n    if (state.movement[1] > 300 || (state.velocity[1] > 3 && state.direction[1] > 0)) {\n      close();\n    }\n  });\n\n  return (\n    <>\n      {fadeTransition.map(\n        ({ item, key, props }) =>\n          item && (\n            <StyledDialogContent\n              key={key}\n              {...(isMobile\n                ? {\n                    ...bind(),\n                    style: {\n                      ...props,\n                      transform: y.interpolate((n) => `translateY(${(n as number) > 0 ? n : 0}px)`),\n                    },\n                  }\n                : {\n                    style: props,\n                  })}\n              aria-label=\"dialog\"\n              className={className}\n            >\n              {isMobile ? <Handle /> : undefined}\n              {title || description ? (\n                <Header>\n                  {title ? <Title>{title}</Title> : undefined}\n                  {description ? <Description>{description}</Description> : undefined}\n                  {!isMobile ? <CloseIcon name=\"cross\" onClick={close} /> : undefined}\n                </Header>\n              ) : undefined}\n              {!noDelimiter ? (\n                <Delimiter className={classNames({ hasIcon: Boolean(iconName) })}>\n                  {iconName ? (\n                    <IconWrapper className={iconBgClassName}>\n                      <IconStyled name={iconName} />\n                    </IconWrapper>\n                  ) : undefined}\n                </Delimiter>\n              ) : undefined}\n              {children ? <Content>{children}</Content> : undefined}\n              {footer ? <Footer>{footer}</Footer> : undefined}\n            </StyledDialogContent>\n          ),\n      )}\n    </>\n  );\n};\n","import type { FC } from 'react';\nimport * as React from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Button, Icon } from 'components/ui';\n\nconst CancelIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n  margin-right: 8px;\n`;\n\ntype Props = React.ButtonHTMLAttributes<HTMLButtonElement>;\n\nexport const ButtonCancel: FC<Props> = (props) => {\n  return (\n    <Button {...props} hollow error>\n      <CancelIcon name=\"cross\" />\n      Cancel\n    </Button>\n  );\n};\n","import { styled } from '@linaria/react';\nimport { theme } from '@p2p-wallet-web/ui';\n\nimport { Icon } from 'components/ui';\n\nexport const Section = styled.div`\n  display: grid;\n  padding: 20px 0;\n\n  &.swap {\n    padding: 20px 0 0;\n  }\n\n  &.send {\n    grid-gap: 16px;\n    padding: 16px 0;\n  }\n\n  &.password {\n    padding: 8px 0 24px;\n  }\n`;\n\nexport const SectionTitle = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nexport const FieldInfo = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 12px 20px;\n\n  border: 1px solid ${theme.colors.stroke.secondary};\n  border-radius: 12px;\n`;\n\nexport const WalletIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: ${theme.colors.textIcon.secondary};\n`;\n\nexport const IconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n\n  background: ${theme.colors.bg.secondary};\n  border-radius: 12px;\n`;\n\nexport const InfoWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 9px 0 12px;\n`;\n\nexport const InfoTitle = styled.div`\n  color: ${theme.colors.textIcon.primary};\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 140%;\n\n  &.secondary {\n    color: ${theme.colors.textIcon.secondary};\n    font-size: 14px;\n    line-height: 120%;\n  }\n`;\n\nexport const Username = styled(InfoTitle)`\n  color: #000;\n  font-size: 16px;\n`;\n\nexport const InfoValue = styled.div`\n  margin-top: 4px;\n\n  color: ${theme.colors.textIcon.secondary};\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 120%;\n  letter-spacing: 0.01em;\n`;\n","import type { FC } from 'react';\n\nimport { useSettings } from 'app/contexts';\nimport type { Accordion } from 'components/ui/AccordionDetails';\nimport { AccordionDetails } from 'components/ui/AccordionDetails';\n\nimport { FreeTransactionTooltip } from './FreeTransactionTooltip';\n\n// const ListWrapper = styled.div`\n//   display: grid;\n//   grid-gap: 4px;\n//   padding: 16px 20px;\n//\n//   &.total {\n//     padding: 26px 20px;\n//   }\n//\n//   &:not(:last-child) {\n//     border-bottom: 1px solid ${theme.colors.stroke.secondary};\n//   }\n// `;\n\n// const Row = styled.div`\n//   display: flex;\n//   justify-content: space-between;\n// `;\n//\n// const Text = styled.div`\n//   display: inline-block;\n//\n//   color: ${theme.colors.textIcon.primary};\n//   font-weight: 500;\n//   font-size: 16px;\n//   line-height: 140%;\n//   letter-spacing: 0.01em;\n//\n//   &.inline-flex {\n//     display: inline-flex;\n//   }\n//\n//   &.gray {\n//     color: ${theme.colors.textIcon.secondary};\n//   }\n//\n//   &.green {\n//     color: ${theme.colors.system.successMain};\n//   }\n// `;\n\n// {/*<ListWrapper>*/}\n// {/*  <Row>*/}\n// {/*    <Text className=\"gray\">Receive</Text>*/}\n// {/*    <Text>*/}\n// {/*      150.1 USDC <Text className=\"gray\">(~$150)</Text>*/}\n// {/*    </Text>*/}\n// {/*  </Row>*/}\n// {/*  <Row>*/}\n// {/*    <Text className=\"gray\">Transaction fee</Text>*/}\n// {/*    {useFreeTransactions ? (*/}\n// {/*      <Text>*/}\n// {/*        Free{' '}*/}\n// {/*        <Text className=\"green inline-flex\">*/}\n// {/*          (Paid by P2P.org) <FreeTransactionTooltip />*/}\n// {/*        </Text>*/}\n// {/*      </Text>*/}\n// {/*    ) : (*/}\n// {/*      <Text>1</Text>*/}\n// {/*    )}*/}\n// {/*  </Row>*/}\n// {/*  <Row>*/}\n// {/*    <Text className=\"gray\">USDC account creation</Text>*/}\n// {/*    <Text>*/}\n// {/*      0.509 USDC <Text className=\"gray\">(~$0.5)</Text>*/}\n// {/*    </Text>*/}\n// {/*  </Row>*/}\n// {/*</ListWrapper>*/}\n// {/*<ListWrapper className=\"total\">*/}\n// {/*  <Row>*/}\n// {/*    <Text>Total</Text>*/}\n// {/*    <Text>*/}\n// {/*      150.609 USDC <Text className=\"gray\">(~$150.5)</Text>*/}\n// {/*    </Text>*/}\n// {/*  </Row>*/}\n// {/*</ListWrapper>*/}\n\ninterface Props {}\n\n// TODO: look at TransferFee component and make what need to do\nexport const TransactionDetails: FC<Props> = () => {\n  const {\n    settings: { useFreeTransactions },\n  } = useSettings();\n\n  const accordion: Accordion = [\n    {\n      id: 1,\n      rows: [\n        {\n          id: 1,\n          titleClassName: 'gray',\n          title: 'Receive',\n          value: [\n            '150.1 USDC',\n            ' ',\n            {\n              className: 'gray',\n              value: '(~$150)',\n            },\n          ],\n        },\n        {\n          id: 2,\n          titleClassName: 'gray',\n          title: 'Transaction fee',\n          value: useFreeTransactions\n            ? [\n                'Free',\n                ' ',\n                {\n                  className: 'green inline-flex',\n                  value: (\n                    <>\n                      (Paid by P2P.org) <FreeTransactionTooltip />\n                    </>\n                  ),\n                },\n              ]\n            : 1,\n        },\n        {\n          id: 3,\n          titleClassName: 'gray',\n          title: 'USDC account creation',\n          value: [\n            '0.509 USDC',\n            ' ',\n            {\n              className: 'gray',\n              value: '(~$0.5)',\n            },\n          ],\n        },\n      ],\n    },\n    {\n      id: 2,\n      className: 'total',\n      rows: [\n        {\n          id: 1,\n          title: 'Total',\n          value: [\n            '150.609 USDC',\n            ' ',\n            {\n              className: 'gray',\n              value: '(~$150.5)',\n            },\n          ],\n        },\n      ],\n    },\n  ];\n\n  return (\n    <AccordionDetails\n      title=\"Transaction details\"\n      titleBottomName=\"Total\"\n      titleBottomValue=\"150.609 USDC\"\n      accordion={accordion}\n    />\n  );\n};\n","import type { FC } from 'react';\n\nimport { styled } from '@linaria/react';\nimport type { TokenAccount } from '@p2p-wallet-web/core';\nimport { theme } from '@p2p-wallet-web/ui';\nimport type { TokenAmount } from '@saberhq/token-utils';\nimport type { PublicKey } from '@solana/web3.js';\nimport { Feature } from 'flagged';\n\nimport { AddressText } from 'components/common/AddressText';\nimport { AmountUSD } from 'components/common/AmountUSD';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { TransactionDetails } from 'components/common/TransactionDetails';\nimport { Icon } from 'components/ui';\nimport { FEATURE_TRANSACTION_DETAILS_ACCORDION } from 'config/featureFlags';\n\nimport {\n  FieldInfo,\n  IconWrapper,\n  InfoTitle,\n  InfoValue,\n  InfoWrapper,\n  Section,\n  Username,\n  WalletIcon,\n} from '../common/styled';\n\nconst ArrowWrapper = styled.div`\n  position: relative;\n\n  height: 16px;\n  margin-left: 26px;\n`;\n\nconst ArrowIconWrapper = styled.div`\n  position: relative;\n  top: -8px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n\n  color: ${theme.colors.textIcon.active};\n\n  background: ${theme.colors.bg.primary};\n  border: 1px solid ${theme.colors.stroke.secondary};\n  border-radius: 12px;\n\n  &::before,\n  &::after {\n    position: absolute;\n\n    width: 1px;\n    height: 16px;\n\n    background: ${theme.colors.bg.primary};\n\n    content: '';\n  }\n\n  &::before {\n    left: -1px;\n  }\n\n  &::after {\n    right: -1px;\n  }\n`;\n\nconst ArrowIcon = styled(Icon)`\n  width: 16px;\n  height: 16px;\n`;\n\nexport type TransferParams = {\n  source: TokenAccount;\n  destination: PublicKey;\n  amount: TokenAmount;\n  username?: string;\n};\n\ninterface Props {\n  params: TransferParams;\n}\n\nexport const Send: FC<Props> = ({ params }) => {\n  return (\n    <Section className=\"send\">\n      <div>\n        <FieldInfo>\n          <TokenAvatar\n            symbol={params.source.balance?.token.symbol}\n            address={params.source.balance?.token.address}\n            size={44}\n          />\n          <InfoWrapper>\n            <InfoTitle>{params.amount.formatUnits()}</InfoTitle>\n            <InfoValue>\n              <AmountUSD value={params.amount} />\n            </InfoValue>\n          </InfoWrapper>\n        </FieldInfo>\n        <ArrowWrapper>\n          <ArrowIconWrapper>\n            <ArrowIcon name=\"arrow-down\" />\n          </ArrowIconWrapper>\n        </ArrowWrapper>\n        <FieldInfo>\n          <IconWrapper>\n            <WalletIcon name=\"wallet\" />\n          </IconWrapper>\n          <InfoWrapper>\n            {params.username ? (\n              <Username>{params.username}</Username>\n            ) : (\n              <InfoTitle className=\"secondary\">To address</InfoTitle>\n            )}\n            <InfoValue>\n              <AddressText address={params.destination.toBase58()} medium />\n            </InfoValue>\n          </InfoWrapper>\n        </FieldInfo>\n      </div>\n\n      <Feature name={FEATURE_TRANSACTION_DETAILS_ACCORDION}>\n        <TransactionDetails />\n      </Feature>\n    </Section>\n  );\n};\n","import type { FC } from 'react';\n\nimport type { u64 } from '@solana/spl-token';\n\nimport { useConfig } from 'app/contexts/solana/swap';\nimport { formatBigNumber } from 'app/contexts/solana/swap/utils/format';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\n\nimport {\n  FieldInfo,\n  InfoTitle,\n  InfoValue,\n  InfoWrapper,\n  Section,\n  SectionTitle,\n} from '../common/styled';\n\nexport type SwapParams = {\n  inputTokenName: string;\n  outputTokenName: string;\n  inputAmount: u64;\n  minimumOutputAmount: u64;\n};\n\ninterface Props {\n  params: SwapParams;\n}\n\nexport const Swap: FC<Props> = ({\n  params: { inputTokenName, outputTokenName, inputAmount, minimumOutputAmount },\n}) => {\n  const { tokenConfigs } = useConfig();\n\n  return (\n    <>\n      <Section className=\"swap\">\n        <SectionTitle>From</SectionTitle>\n        <FieldInfo>\n          <TokenAvatar symbol={inputTokenName} size={44} />\n          <InfoWrapper>\n            <InfoTitle>Check the amount</InfoTitle>\n            <InfoValue>\n              {formatBigNumber(inputAmount, tokenConfigs[inputTokenName].decimals)} {inputTokenName}\n            </InfoValue>\n          </InfoWrapper>\n        </FieldInfo>\n      </Section>\n      <Section className=\"top\">\n        <SectionTitle>To</SectionTitle>\n        <FieldInfo>\n          <TokenAvatar symbol={outputTokenName} size={44} />\n          <InfoWrapper>\n            <InfoTitle>Minimum receive</InfoTitle>\n            <InfoValue>\n              {formatBigNumber(minimumOutputAmount, tokenConfigs[outputTokenName].decimals)}{' '}\n              {outputTokenName}\n            </InfoValue>\n          </InfoWrapper>\n        </FieldInfo>\n        {/*<FieldInfo>*/}\n        {/*  <IconWrapper>*/}\n        {/*    <WalletIcon name=\"wallet\" />*/}\n        {/*  </IconWrapper>*/}\n        {/*  <InfoWrapper>*/}\n        {/*    <InfoTitle>Destination wallet</InfoTitle>*/}\n        {/*    <InfoValue>*/}\n        {/*      {(params as SwapParams).secondTokenAccount*/}\n        {/*        ? (params as SwapParams).secondTokenAccount.address.toBase58()*/}\n        {/*        : 'Will be created after transaction processing'}*/}\n        {/*    </InfoValue>*/}\n        {/*  </InfoWrapper>*/}\n        {/*</FieldInfo>*/}\n      </Section>\n    </>\n  );\n};\n","import type { FunctionComponent } from 'react';\nimport { useEffect, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport {\n  DEFAULT_WALLET_PROVIDERS,\n  DefaultWalletType,\n  useTryUnlockSeedAndMnemonic,\n  useWallet,\n} from '@p2p-wallet-web/core';\nimport { theme } from '@p2p-wallet-web/ui';\n\nimport type { ModalPropsType } from 'app/contexts/general/modals/types';\nimport { ButtonCancel } from 'components/common/ButtonCancel';\nimport { ErrorHint } from 'components/common/ErrorHint';\nimport { PasswordInput } from 'components/common/PasswordInput';\nimport { Button, Icon } from 'components/ui';\nimport { Modal } from 'components/ui/Modal';\nimport { trackEvent } from 'utils/analytics';\n\nimport { Section } from './common/styled';\nimport type { TransferParams } from './Send';\nimport { Send } from './Send';\nimport type { SwapParams } from './Swap';\nimport { Swap } from './Swap';\n\nconst WrapperModal = styled(Modal)`\n  flex-basis: 524px;\n`;\n\nconst SubTitle = styled.span`\n  display: flex;\n  margin-bottom: 8px;\n\n  color: ${theme.colors.textIcon.primary};\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 140%;\n  letter-spacing: 0.01em;\n`;\n\nconst ActionTitle = styled.div`\n  padding: 16px 0 0 16px;\n\n  color: ${theme.colors.textIcon.primary};\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 140%;\n  letter-spacing: 0.01em;\n`;\n\nconst PasswordInputStyled = styled(PasswordInput)`\n  height: 46px;\n`;\n\nconst SendIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n  margin-right: 12px;\n`;\n\nexport type TransactionConfirmModalProps = {\n  type: 'send' | 'swap';\n  params: TransferParams | SwapParams;\n};\n\nexport const TransactionConfirmModal: FunctionComponent<\n  ModalPropsType & TransactionConfirmModalProps\n> = ({ type, params, close }) => {\n  const { walletProviderInfo } = useWallet();\n  const tryUnlockSeedAndMnemonic = useTryUnlockSeedAndMnemonic();\n\n  const [password, setPassword] = useState('');\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    if (type === 'send') {\n      trackEvent('Send_Reviewing');\n    }\n  }, []);\n\n  const validatePassword = async (password: string) => {\n    try {\n      await tryUnlockSeedAndMnemonic(password);\n      setHasError(false);\n    } catch (error) {\n      setHasError(true);\n    }\n  };\n\n  const handlePasswordChange = (value: string) => {\n    setPassword(value);\n\n    if (value) {\n      void validatePassword(value);\n    }\n  };\n\n  const handleConfirmClick = () => {\n    if (type === 'send') {\n      trackEvent('Send_Verification_Invoked');\n    }\n\n    close(true);\n  };\n\n  const handleCloseClick = () => {\n    close(false);\n  };\n\n  const isSecretKeyWallet =\n    walletProviderInfo?.name === DEFAULT_WALLET_PROVIDERS[DefaultWalletType.SecretKey].name;\n  const isDisabled = isSecretKeyWallet && (!password || hasError);\n\n  const renderTitle = () => {\n    switch (type) {\n      case 'send':\n        return <>Confirm sending {(params as TransferParams).source.balance?.token.symbol}</>;\n      default:\n        return 'Double check and confirm';\n    }\n  };\n\n  const renderDescription = () => {\n    switch (type) {\n      case 'swap':\n        return 'Swap transaction';\n      default:\n        return null;\n    }\n  };\n\n  const renderButtons = () => {\n    let action;\n\n    switch (type) {\n      case 'swap':\n        action = 'Confirm and send';\n        break;\n      case 'send':\n      default:\n        action = (\n          <>\n            <SendIcon name=\"top\" />\n            Send {(params as TransferParams).amount.formatUnits()}\n          </>\n        );\n        break;\n    }\n\n    return (\n      <>\n        <Button primary disabled={isDisabled} onClick={handleConfirmClick}>\n          {action}\n        </Button>\n        <ButtonCancel onClick={handleCloseClick} />\n      </>\n    );\n  };\n\n  return (\n    <WrapperModal\n      title={renderTitle()}\n      description={renderDescription()}\n      close={handleCloseClick}\n      footer={renderButtons()}\n    >\n      {type === 'send' ? <ActionTitle>You are going to send</ActionTitle> : undefined}\n      {type === 'send' ? <Send params={params as TransferParams} /> : undefined}\n      {type === 'swap' ? <Swap params={params as SwapParams} /> : undefined}\n\n      {isSecretKeyWallet ? (\n        <Section className=\"password\">\n          <SubTitle>Enter password to confirm</SubTitle>\n          <PasswordInputStyled value={password} onChange={handlePasswordChange} />\n          {hasError ? <ErrorHint error=\"Incorrect password, try again\" noIcon /> : undefined}\n        </Section>\n      ) : undefined}\n    </WrapperModal>\n  );\n};\n"],"sourceRoot":""}